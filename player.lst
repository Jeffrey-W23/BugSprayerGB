                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module player
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _InitPlayer
                                     11 	.globl _UpdatePlayer
                                     12 	.globl _HandlePlayerInput
                                     13 	.globl _ShowSprayEffect
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 ;--------------------------------------------------------
                                     18 ; ram data
                                     19 ;--------------------------------------------------------
                                     20 	.area _DATA
                                     21 ;--------------------------------------------------------
                                     22 ; ram data
                                     23 ;--------------------------------------------------------
                                     24 	.area _INITIALIZED
    00000000                         25 _m_nSprayIndex:
    00000000                         26 	.ds 1
    00000001                         27 _m_bButtonBPressed:
    00000001                         28 	.ds 1
                                     29 ;--------------------------------------------------------
                                     30 ; absolute external ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area _DABS (ABS)
                                     33 ;--------------------------------------------------------
                                     34 ; global & static initialisations
                                     35 ;--------------------------------------------------------
                                     36 	.area _HOME
                                     37 	.area _GSINIT
                                     38 	.area _GSFINAL
                                     39 	.area _GSINIT
                                     40 ;--------------------------------------------------------
                                     41 ; Home
                                     42 ;--------------------------------------------------------
                                     43 	.area _HOME
                                     44 	.area _HOME
                                     45 ;--------------------------------------------------------
                                     46 ; code
                                     47 ;--------------------------------------------------------
                                     48 	.area _CODE
                                     49 ;player.c:25: void InitPlayer(Player* ptrPlayer) 
                                     50 ;	---------------------------------
                                     51 ; Function InitPlayer
                                     52 ; ---------------------------------
    00000000                         53 _InitPlayer::
    00000000 E8 F3            [16]   54 	add	sp, #-13
    00000002 4B               [ 4]   55 	ld	c, e
    00000003 42               [ 4]   56 	ld	b, d
                                     57 ;player.c:32: UINT8 nBaseTiles[8] = {0,4,8,12,16,20,24,28};
    00000004 F8 00            [12]   58 	ldhl	sp,	#0
    00000006 AF               [ 4]   59 	xor	a, a
    00000007 22               [ 8]   60 	ld	(hl+), a
    00000008 3E 04            [ 8]   61 	ld	a, #0x04
    0000000A 22               [ 8]   62 	ld	(hl+), a
    0000000B 3E 08            [ 8]   63 	ld	a, #0x08
    0000000D 22               [ 8]   64 	ld	(hl+), a
    0000000E 3E 0C            [ 8]   65 	ld	a, #0x0c
    00000010 22               [ 8]   66 	ld	(hl+), a
    00000011 3E 10            [ 8]   67 	ld	a, #0x10
    00000013 22               [ 8]   68 	ld	(hl+), a
    00000014 3E 14            [ 8]   69 	ld	a, #0x14
    00000016 22               [ 8]   70 	ld	(hl+), a
    00000017 3E 18            [ 8]   71 	ld	a, #0x18
    00000019 22               [ 8]   72 	ld	(hl+), a
    0000001A 36 1C            [12]   73 	ld	(hl), #0x1c
                                     74 ;player.c:35: ptrPlayer->nX = 76; ptrPlayer->nY = 78;                 // X/Y Values
    0000001C 21 04 00         [12]   75 	ld	hl, #0x0004
    0000001F 09               [ 8]   76 	add	hl, bc
    00000020 36 4C            [12]   77 	ld	(hl), #0x4c
    00000022 21 05 00         [12]   78 	ld	hl, #0x0005
    00000025 09               [ 8]   79 	add	hl, bc
    00000026 36 4E            [12]   80 	ld	(hl), #0x4e
                                     81 ;player.c:36: ptrPlayer->nWidth = 16; ptrPlayer->nHeight = 16;        // Width/Height
    00000028 21 06 00         [12]   82 	ld	hl, #0x0006
    0000002B 09               [ 8]   83 	add	hl, bc
    0000002C 36 10            [12]   84 	ld	(hl), #0x10
    0000002E 21 07 00         [12]   85 	ld	hl, #0x0007
    00000031 09               [ 8]   86 	add	hl, bc
    00000032 36 10            [12]   87 	ld	(hl), #0x10
                                     88 ;player.c:37: ptrPlayer->nDirection = 0; ptrPlayer->nDirCheck = 4;    // Direction
    00000034 21 08 00         [12]   89 	ld	hl, #0x0008
    00000037 09               [ 8]   90 	add	hl, bc
    00000038 36 00            [12]   91 	ld	(hl), #0x00
    0000003A 21 13 00         [12]   92 	ld	hl, #0x0013
    0000003D 09               [ 8]   93 	add	hl, bc
    0000003E 36 04            [12]   94 	ld	(hl), #0x04
                                     95 ;player.c:38: ptrPlayer->nHealth = 998; ptrPlayer->nScore = 0;        // Health/Score
    00000040 21 11 00         [12]   96 	ld	hl, #0x0011
    00000043 09               [ 8]   97 	add	hl, bc
    00000044 3E E6            [ 8]   98 	ld	a, #0xe6
    00000046 22               [ 8]   99 	ld	(hl+), a
    00000047 36 03            [12]  100 	ld	(hl), #0x03
    00000049 21 14 00         [12]  101 	ld	hl, #0x0014
    0000004C 09               [ 8]  102 	add	hl, bc
    0000004D AF               [ 4]  103 	xor	a, a
    0000004E 22               [ 8]  104 	ld	(hl+), a
    0000004F 77               [ 8]  105 	ld	(hl), a
                                    106 ;player.c:39: ptrPlayer->bTakenDamage = FALSE;                        // Is Hurt
    00000050 21 18 00         [12]  107 	ld	hl, #0x0018
    00000053 09               [ 8]  108 	add	hl, bc
    00000054 36 00            [12]  109 	ld	(hl), #0x00
                                    110 ;player.c:44: for(i = 0; i < 8; i++) 
    00000056 21 09 00         [12]  111 	ld	hl, #0x0009
    00000059 09               [ 8]  112 	add	hl, bc
    0000005A E5               [16]  113 	push	hl
    0000005B 7D               [ 4]  114 	ld	a, l
    0000005C F8 0A            [12]  115 	ldhl	sp,	#10
    0000005E 77               [ 8]  116 	ld	(hl), a
    0000005F E1               [12]  117 	pop	hl
    00000060 7C               [ 4]  118 	ld	a, h
    00000061 F8 09            [12]  119 	ldhl	sp,	#9
    00000063 77               [ 8]  120 	ld	(hl), a
    00000064 F8 0C            [12]  121 	ldhl	sp,	#12
    00000066 36 00            [12]  122 	ld	(hl), #0x00
    00000068                        123 00106$:
                                    124 ;player.c:46: ptrPlayer->anTiles[i] = nBaseTiles[i];
    00000068 F8 08            [12]  125 	ldhl	sp,#8
    0000006A 2A               [ 8]  126 	ld	a, (hl+)
    0000006B 5F               [ 4]  127 	ld	e, a
    0000006C 56               [ 8]  128 	ld	d, (hl)
    0000006D F8 0C            [12]  129 	ldhl	sp,	#12
    0000006F 6E               [ 8]  130 	ld	l, (hl)
    00000070 26 00            [ 8]  131 	ld	h, #0x00
    00000072 19               [ 8]  132 	add	hl, de
    00000073 E5               [16]  133 	push	hl
    00000074 7D               [ 4]  134 	ld	a, l
    00000075 F8 0C            [12]  135 	ldhl	sp,	#12
    00000077 77               [ 8]  136 	ld	(hl), a
    00000078 E1               [12]  137 	pop	hl
    00000079 7C               [ 4]  138 	ld	a, h
    0000007A F8 0B            [12]  139 	ldhl	sp,	#11
    0000007C 77               [ 8]  140 	ld	(hl), a
    0000007D E5               [16]  141 	push	hl
    0000007E 21 02 00         [12]  142 	ld	hl, #2
    00000081 39               [ 8]  143 	add	hl, sp
    00000082 5D               [ 4]  144 	ld	e, l
    00000083 54               [ 4]  145 	ld	d, h
    00000084 E1               [12]  146 	pop	hl
    00000085 F8 0C            [12]  147 	ldhl	sp,	#12
    00000087 6E               [ 8]  148 	ld	l, (hl)
    00000088 26 00            [ 8]  149 	ld	h, #0x00
    0000008A 19               [ 8]  150 	add	hl, de
    0000008B 5D               [ 4]  151 	ld	e, l
    0000008C 54               [ 4]  152 	ld	d, h
    0000008D 1A               [ 8]  153 	ld	a, (de)
    0000008E F8 0A            [12]  154 	ldhl	sp,	#10
    00000090 5E               [ 8]  155 	ld	e, (hl)
    00000091 23               [ 8]  156 	inc	hl
    00000092 66               [ 8]  157 	ld	h, (hl)
    00000093 6B               [ 4]  158 	ld	l, e
    00000094 77               [ 8]  159 	ld	(hl), a
                                    160 ;player.c:44: for(i = 0; i < 8; i++) 
    00000095 F8 0C            [12]  161 	ldhl	sp,	#12
    00000097 34               [12]  162 	inc	(hl)
    00000098 7E               [ 8]  163 	ld	a, (hl)
    00000099 D6 08            [ 8]  164 	sub	a, #0x08
    0000009B 38 CB            [12]  165 	jr	C, 00106$
                                    166 ;player.c:50: for(i = 0; i < 4; i++) 
    0000009D 21 09 00         [12]  167 	ld	hl, #0x0009
    000000A0 09               [ 8]  168 	add	hl, bc
    000000A1 E5               [16]  169 	push	hl
    000000A2 7D               [ 4]  170 	ld	a, l
    000000A3 F8 0C            [12]  171 	ldhl	sp,	#12
    000000A5 77               [ 8]  172 	ld	(hl), a
    000000A6 E1               [12]  173 	pop	hl
    000000A7 7C               [ 4]  174 	ld	a, h
    000000A8 F8 0B            [12]  175 	ldhl	sp,	#11
    000000AA 22               [ 8]  176 	ld	(hl+), a
    000000AB 36 00            [12]  177 	ld	(hl), #0x00
    000000AD                        178 00108$:
                                    179 ;player.c:52: ptrPlayer->ubSpriteIDs[i] = i;
    000000AD F8 0C            [12]  180 	ldhl	sp,	#12
    000000AF 6E               [ 8]  181 	ld	l, (hl)
    000000B0 26 00            [ 8]  182 	ld	h, #0x00
    000000B2 09               [ 8]  183 	add	hl, bc
    000000B3 5D               [ 4]  184 	ld	e, l
    000000B4 54               [ 4]  185 	ld	d, h
    000000B5 F8 0C            [12]  186 	ldhl	sp,	#12
                                    187 ;player.c:53: set_sprite_tile(ptrPlayer->ubSpriteIDs[i], ptrPlayer->anTiles[0] + i);
    000000B7 3A               [ 8]  188 	ld	a, (hl-)
    000000B8 2B               [ 8]  189 	dec	hl
    000000B9 12               [ 8]  190 	ld	(de), a
    000000BA 2A               [ 8]  191 	ld	a, (hl+)
    000000BB 5F               [ 4]  192 	ld	e, a
    000000BC 2A               [ 8]  193 	ld	a, (hl+)
    000000BD 57               [ 4]  194 	ld	d, a
    000000BE 1A               [ 8]  195 	ld	a, (de)
    000000BF 86               [ 8]  196 	add	a, (hl)
    000000C0 5F               [ 4]  197 	ld	e, a
                                    198 ;c:\gbdk2020\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    000000C1 56               [ 8]  199 	ld	d, (hl)
    000000C2 AF               [ 4]  200 	xor	a, a
    000000C3 6A               [ 4]  201 	ld	l, d
    000000C4 67               [ 4]  202 	ld	h, a
    000000C5 29               [ 8]  203 	add	hl, hl
    000000C6 29               [ 8]  204 	add	hl, hl
    000000C7 D5               [16]  205 	push	de
    000000C8 11r00r00         [12]  206 	ld	de, #_shadow_OAM
    000000CB 19               [ 8]  207 	add	hl, de
    000000CC 23               [ 8]  208 	inc	hl
    000000CD 23               [ 8]  209 	inc	hl
    000000CE D1               [12]  210 	pop	de
    000000CF 73               [ 8]  211 	ld	(hl), e
                                    212 ;player.c:50: for(i = 0; i < 4; i++) 
    000000D0 F8 0C            [12]  213 	ldhl	sp,	#12
    000000D2 34               [12]  214 	inc	(hl)
    000000D3 7E               [ 8]  215 	ld	a, (hl)
    000000D4 D6 04            [ 8]  216 	sub	a, #0x04
    000000D6 38 D5            [12]  217 	jr	C, 00108$
                                    218 ;c:\gbdk2020\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    000000D8 21r16r00         [12]  219 	ld	hl, #(_shadow_OAM + 22)
                                    220 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000DB 3E 5F            [ 8]  221 	ld	a, #0x5f
    000000DD 32               [ 8]  222 	ld	(hl-), a
    000000DE 2B               [ 8]  223 	dec	hl
                                    224 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    000000DF 3E 52            [ 8]  225 	ld	a, #0x52
    000000E1 22               [ 8]  226 	ld	(hl+), a
    000000E2 36 5C            [12]  227 	ld	(hl), #0x5c
                                    228 ;player.c:59: m_nSprayIndex = 35;
    000000E4 21r00r00         [12]  229 	ld	hl, #_m_nSprayIndex
    000000E7 36 23            [12]  230 	ld	(hl), #0x23
                                    231 ;player.c:60: }
    000000E9 E8 0D            [16]  232 	add	sp, #13
    000000EB C9               [16]  233 	ret
                                    234 ;player.c:69: void UpdatePlayer(Player* ptrPlayer) 
                                    235 ;	---------------------------------
                                    236 ; Function UpdatePlayer
                                    237 ; ---------------------------------
    000000EC                        238 _UpdatePlayer::
    000000EC E8 F8            [16]  239 	add	sp, #-8
    000000EE F8 06            [12]  240 	ldhl	sp,	#6
    000000F0 7B               [ 4]  241 	ld	a, e
    000000F1 22               [ 8]  242 	ld	(hl+), a
                                    243 ;player.c:72: UINT8 nTile = ptrPlayer->anTiles[ptrPlayer->nDirection];
    000000F2 7A               [ 4]  244 	ld	a, d
    000000F3 32               [ 8]  245 	ld	(hl-), a
    000000F4 2A               [ 8]  246 	ld	a, (hl+)
    000000F5 5F               [ 4]  247 	ld	e, a
    000000F6 56               [ 8]  248 	ld	d, (hl)
    000000F7 21 09 00         [12]  249 	ld	hl, #0x0009
    000000FA 19               [ 8]  250 	add	hl, de
    000000FB 4D               [ 4]  251 	ld	c, l
    000000FC 44               [ 4]  252 	ld	b, h
    000000FD F8 06            [12]  253 	ldhl	sp,#6
    000000FF 2A               [ 8]  254 	ld	a, (hl+)
    00000100 5F               [ 4]  255 	ld	e, a
    00000101 56               [ 8]  256 	ld	d, (hl)
    00000102 21 08 00         [12]  257 	ld	hl, #0x0008
    00000105 19               [ 8]  258 	add	hl, de
    00000106 5D               [ 4]  259 	ld	e, l
    00000107 54               [ 4]  260 	ld	d, h
    00000108 1A               [ 8]  261 	ld	a, (de)
    00000109 6F               [ 4]  262 	ld	l, a
    0000010A 26 00            [ 8]  263 	ld	h, #0x00
    0000010C 09               [ 8]  264 	add	hl, bc
    0000010D 7E               [ 8]  265 	ld	a, (hl)
    0000010E F8 05            [12]  266 	ldhl	sp,	#5
    00000110 77               [ 8]  267 	ld	(hl), a
                                    268 ;player.c:77: move_sprite(ptrPlayer->ubSpriteIDs[0], ptrPlayer->nX, ptrPlayer->nY);
    00000111 F8 06            [12]  269 	ldhl	sp,#6
    00000113 2A               [ 8]  270 	ld	a, (hl+)
    00000114 5F               [ 4]  271 	ld	e, a
    00000115 56               [ 8]  272 	ld	d, (hl)
    00000116 21 05 00         [12]  273 	ld	hl, #0x0005
    00000119 19               [ 8]  274 	add	hl, de
    0000011A 33               [ 8]  275 	inc	sp
    0000011B 33               [ 8]  276 	inc	sp
    0000011C 5D               [ 4]  277 	ld	e, l
    0000011D 54               [ 4]  278 	ld	d, h
    0000011E D5               [16]  279 	push	de
    0000011F 1A               [ 8]  280 	ld	a, (de)
    00000120 4F               [ 4]  281 	ld	c, a
    00000121 F8 06            [12]  282 	ldhl	sp,#6
    00000123 2A               [ 8]  283 	ld	a, (hl+)
    00000124 5F               [ 4]  284 	ld	e, a
    00000125 56               [ 8]  285 	ld	d, (hl)
    00000126 21 04 00         [12]  286 	ld	hl, #0x0004
    00000129 19               [ 8]  287 	add	hl, de
    0000012A E5               [16]  288 	push	hl
    0000012B 7D               [ 4]  289 	ld	a, l
    0000012C F8 04            [12]  290 	ldhl	sp,	#4
    0000012E 77               [ 8]  291 	ld	(hl), a
    0000012F E1               [12]  292 	pop	hl
    00000130 7C               [ 4]  293 	ld	a, h
    00000131 F8 03            [12]  294 	ldhl	sp,	#3
    00000133 32               [ 8]  295 	ld	(hl-), a
    00000134 2A               [ 8]  296 	ld	a, (hl+)
    00000135 5F               [ 4]  297 	ld	e, a
    00000136 2A               [ 8]  298 	ld	a, (hl+)
    00000137 57               [ 4]  299 	ld	d, a
    00000138 1A               [ 8]  300 	ld	a, (de)
    00000139 22               [ 8]  301 	ld	(hl+), a
    0000013A 23               [ 8]  302 	inc	hl
    0000013B 2A               [ 8]  303 	ld	a, (hl+)
    0000013C 5F               [ 4]  304 	ld	e, a
    0000013D 56               [ 8]  305 	ld	d, (hl)
    0000013E 1A               [ 8]  306 	ld	a, (de)
    0000013F 47               [ 4]  307 	ld	b, a
                                    308 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000140 AF               [ 4]  309 	xor	a, a
    00000141 68               [ 4]  310 	ld	l, b
    00000142 67               [ 4]  311 	ld	h, a
    00000143 29               [ 8]  312 	add	hl, hl
    00000144 29               [ 8]  313 	add	hl, hl
    00000145 D5               [16]  314 	push	de
    00000146 11r00r00         [12]  315 	ld	de, #_shadow_OAM
    00000149 19               [ 8]  316 	add	hl, de
    0000014A D1               [12]  317 	pop	de
                                    318 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    0000014B 79               [ 4]  319 	ld	a, c
    0000014C 22               [ 8]  320 	ld	(hl+), a
    0000014D 4D               [ 4]  321 	ld	c, l
    0000014E 44               [ 4]  322 	ld	b, h
    0000014F F8 04            [12]  323 	ldhl	sp,	#4
    00000151 7E               [ 8]  324 	ld	a, (hl)
    00000152 02               [ 8]  325 	ld	(bc), a
                                    326 ;player.c:78: set_sprite_tile(ptrPlayer->ubSpriteIDs[0], nTile);
    00000153 1A               [ 8]  327 	ld	a, (de)
                                    328 ;c:\gbdk2020\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    00000154 6F               [ 4]  329 	ld	l, a
    00000155 01r00r00         [12]  330 	ld	bc, #_shadow_OAM+0
    00000158 26 00            [ 8]  331 	ld	h, #0x00
    0000015A 29               [ 8]  332 	add	hl, hl
    0000015B 29               [ 8]  333 	add	hl, hl
    0000015C 09               [ 8]  334 	add	hl, bc
    0000015D 23               [ 8]  335 	inc	hl
    0000015E 23               [ 8]  336 	inc	hl
    0000015F 4D               [ 4]  337 	ld	c, l
    00000160 44               [ 4]  338 	ld	b, h
    00000161 F8 05            [12]  339 	ldhl	sp,	#5
                                    340 ;player.c:81: move_sprite(ptrPlayer->ubSpriteIDs[1], ptrPlayer->nX + 8, ptrPlayer->nY);
    00000163 3A               [ 8]  341 	ld	a, (hl-)
    00000164 2B               [ 8]  342 	dec	hl
    00000165 2B               [ 8]  343 	dec	hl
    00000166 02               [ 8]  344 	ld	(bc), a
    00000167 D1               [12]  345 	pop	de
    00000168 D5               [16]  346 	push	de
    00000169 1A               [ 8]  347 	ld	a, (de)
    0000016A 4F               [ 4]  348 	ld	c, a
    0000016B 2A               [ 8]  349 	ld	a, (hl+)
    0000016C 5F               [ 4]  350 	ld	e, a
    0000016D 2A               [ 8]  351 	ld	a, (hl+)
    0000016E 57               [ 4]  352 	ld	d, a
    0000016F 1A               [ 8]  353 	ld	a, (de)
    00000170 C6 08            [ 8]  354 	add	a, #0x08
    00000172 22               [ 8]  355 	ld	(hl+), a
    00000173 23               [ 8]  356 	inc	hl
    00000174 2A               [ 8]  357 	ld	a, (hl+)
    00000175 5F               [ 4]  358 	ld	e, a
    00000176 56               [ 8]  359 	ld	d, (hl)
    00000177 13               [ 8]  360 	inc	de
    00000178 1A               [ 8]  361 	ld	a, (de)
    00000179 47               [ 4]  362 	ld	b, a
                                    363 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    0000017A AF               [ 4]  364 	xor	a, a
    0000017B 68               [ 4]  365 	ld	l, b
    0000017C 67               [ 4]  366 	ld	h, a
    0000017D 29               [ 8]  367 	add	hl, hl
    0000017E 29               [ 8]  368 	add	hl, hl
    0000017F D5               [16]  369 	push	de
    00000180 11r00r00         [12]  370 	ld	de, #_shadow_OAM
    00000183 19               [ 8]  371 	add	hl, de
    00000184 D1               [12]  372 	pop	de
                                    373 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    00000185 79               [ 4]  374 	ld	a, c
    00000186 22               [ 8]  375 	ld	(hl+), a
    00000187 4D               [ 4]  376 	ld	c, l
    00000188 44               [ 4]  377 	ld	b, h
    00000189 F8 04            [12]  378 	ldhl	sp,	#4
                                    379 ;player.c:82: set_sprite_tile(ptrPlayer->ubSpriteIDs[1], nTile + 1);
    0000018B 2A               [ 8]  380 	ld	a, (hl+)
    0000018C 02               [ 8]  381 	ld	(bc), a
    0000018D 3A               [ 8]  382 	ld	a, (hl-)
    0000018E 77               [ 8]  383 	ld	(hl), a
    0000018F 4E               [ 8]  384 	ld	c, (hl)
    00000190 0C               [ 4]  385 	inc	c
    00000191 1A               [ 8]  386 	ld	a, (de)
    00000192 5F               [ 4]  387 	ld	e, a
                                    388 ;c:\gbdk2020\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    00000193 AF               [ 4]  389 	xor	a, a
    00000194 6B               [ 4]  390 	ld	l, e
    00000195 67               [ 4]  391 	ld	h, a
    00000196 29               [ 8]  392 	add	hl, hl
    00000197 29               [ 8]  393 	add	hl, hl
    00000198 11r00r00         [12]  394 	ld	de, #_shadow_OAM
    0000019B 19               [ 8]  395 	add	hl, de
    0000019C 23               [ 8]  396 	inc	hl
    0000019D 23               [ 8]  397 	inc	hl
    0000019E 71               [ 8]  398 	ld	(hl), c
                                    399 ;player.c:85: move_sprite(ptrPlayer->ubSpriteIDs[2], ptrPlayer->nX, ptrPlayer->nY + 8);
    0000019F D1               [12]  400 	pop	de
    000001A0 D5               [16]  401 	push	de
    000001A1 1A               [ 8]  402 	ld	a, (de)
    000001A2 C6 08            [ 8]  403 	add	a, #0x08
    000001A4 4F               [ 4]  404 	ld	c, a
    000001A5 F8 02            [12]  405 	ldhl	sp,#2
    000001A7 2A               [ 8]  406 	ld	a, (hl+)
    000001A8 5F               [ 4]  407 	ld	e, a
    000001A9 2A               [ 8]  408 	ld	a, (hl+)
    000001AA 23               [ 8]  409 	inc	hl
    000001AB 57               [ 4]  410 	ld	d, a
    000001AC 1A               [ 8]  411 	ld	a, (de)
    000001AD 22               [ 8]  412 	ld	(hl+), a
    000001AE 2A               [ 8]  413 	ld	a, (hl+)
    000001AF 5F               [ 4]  414 	ld	e, a
    000001B0 56               [ 8]  415 	ld	d, (hl)
    000001B1 13               [ 8]  416 	inc	de
    000001B2 13               [ 8]  417 	inc	de
    000001B3 1A               [ 8]  418 	ld	a, (de)
    000001B4 47               [ 4]  419 	ld	b, a
                                    420 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000001B5 AF               [ 4]  421 	xor	a, a
    000001B6 68               [ 4]  422 	ld	l, b
    000001B7 67               [ 4]  423 	ld	h, a
    000001B8 29               [ 8]  424 	add	hl, hl
    000001B9 29               [ 8]  425 	add	hl, hl
    000001BA D5               [16]  426 	push	de
    000001BB 11r00r00         [12]  427 	ld	de, #_shadow_OAM
    000001BE 19               [ 8]  428 	add	hl, de
    000001BF D1               [12]  429 	pop	de
                                    430 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    000001C0 79               [ 4]  431 	ld	a, c
    000001C1 22               [ 8]  432 	ld	(hl+), a
    000001C2 4D               [ 4]  433 	ld	c, l
    000001C3 44               [ 4]  434 	ld	b, h
    000001C4 F8 05            [12]  435 	ldhl	sp,	#5
                                    436 ;player.c:86: set_sprite_tile(ptrPlayer->ubSpriteIDs[2], nTile + 2);
    000001C6 3A               [ 8]  437 	ld	a, (hl-)
    000001C7 02               [ 8]  438 	ld	(bc), a
    000001C8 4E               [ 8]  439 	ld	c, (hl)
    000001C9 0C               [ 4]  440 	inc	c
    000001CA 0C               [ 4]  441 	inc	c
    000001CB 1A               [ 8]  442 	ld	a, (de)
                                    443 ;c:\gbdk2020\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    000001CC 6F               [ 4]  444 	ld	l, a
    000001CD 11r00r00         [12]  445 	ld	de, #_shadow_OAM+0
    000001D0 26 00            [ 8]  446 	ld	h, #0x00
    000001D2 29               [ 8]  447 	add	hl, hl
    000001D3 29               [ 8]  448 	add	hl, hl
    000001D4 19               [ 8]  449 	add	hl, de
    000001D5 23               [ 8]  450 	inc	hl
    000001D6 23               [ 8]  451 	inc	hl
    000001D7 71               [ 8]  452 	ld	(hl), c
                                    453 ;player.c:89: move_sprite(ptrPlayer->ubSpriteIDs[3], ptrPlayer->nX + 8, ptrPlayer->nY + 8);
    000001D8 D1               [12]  454 	pop	de
    000001D9 D5               [16]  455 	push	de
    000001DA 1A               [ 8]  456 	ld	a, (de)
    000001DB C6 08            [ 8]  457 	add	a, #0x08
    000001DD 4F               [ 4]  458 	ld	c, a
    000001DE F8 02            [12]  459 	ldhl	sp,#2
    000001E0 2A               [ 8]  460 	ld	a, (hl+)
    000001E1 5F               [ 4]  461 	ld	e, a
    000001E2 2A               [ 8]  462 	ld	a, (hl+)
    000001E3 23               [ 8]  463 	inc	hl
    000001E4 57               [ 4]  464 	ld	d, a
    000001E5 1A               [ 8]  465 	ld	a, (de)
    000001E6 C6 08            [ 8]  466 	add	a, #0x08
    000001E8 22               [ 8]  467 	ld	(hl+), a
    000001E9 2A               [ 8]  468 	ld	a, (hl+)
    000001EA 5F               [ 4]  469 	ld	e, a
    000001EB 56               [ 8]  470 	ld	d, (hl)
    000001EC 13               [ 8]  471 	inc	de
    000001ED 13               [ 8]  472 	inc	de
    000001EE 13               [ 8]  473 	inc	de
    000001EF 1A               [ 8]  474 	ld	a, (de)
    000001F0 47               [ 4]  475 	ld	b, a
                                    476 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000001F1 AF               [ 4]  477 	xor	a, a
    000001F2 68               [ 4]  478 	ld	l, b
    000001F3 67               [ 4]  479 	ld	h, a
    000001F4 29               [ 8]  480 	add	hl, hl
    000001F5 29               [ 8]  481 	add	hl, hl
    000001F6 D5               [16]  482 	push	de
    000001F7 11r00r00         [12]  483 	ld	de, #_shadow_OAM
    000001FA 19               [ 8]  484 	add	hl, de
    000001FB D1               [12]  485 	pop	de
                                    486 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    000001FC 79               [ 4]  487 	ld	a, c
    000001FD 22               [ 8]  488 	ld	(hl+), a
    000001FE 4D               [ 4]  489 	ld	c, l
    000001FF 44               [ 4]  490 	ld	b, h
    00000200 F8 05            [12]  491 	ldhl	sp,	#5
                                    492 ;player.c:90: set_sprite_tile(ptrPlayer->ubSpriteIDs[3], nTile + 3);
    00000202 3A               [ 8]  493 	ld	a, (hl-)
    00000203 02               [ 8]  494 	ld	(bc), a
    00000204 4E               [ 8]  495 	ld	c, (hl)
    00000205 0C               [ 4]  496 	inc	c
    00000206 0C               [ 4]  497 	inc	c
    00000207 0C               [ 4]  498 	inc	c
    00000208 1A               [ 8]  499 	ld	a, (de)
                                    500 ;c:\gbdk2020\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    00000209 6F               [ 4]  501 	ld	l, a
    0000020A 11r00r00         [12]  502 	ld	de, #_shadow_OAM+0
    0000020D 26 00            [ 8]  503 	ld	h, #0x00
    0000020F 29               [ 8]  504 	add	hl, hl
    00000210 29               [ 8]  505 	add	hl, hl
    00000211 19               [ 8]  506 	add	hl, de
    00000212 23               [ 8]  507 	inc	hl
    00000213 23               [ 8]  508 	inc	hl
    00000214 71               [ 8]  509 	ld	(hl), c
                                    510 ;player.c:90: set_sprite_tile(ptrPlayer->ubSpriteIDs[3], nTile + 3);
                                    511 ;player.c:91: }
    00000215 E8 08            [16]  512 	add	sp, #8
    00000217 C9               [16]  513 	ret
                                    514 ;player.c:100: void HandlePlayerInput(Player* ptrPlayer, UINT8 nJoy) 
                                    515 ;	---------------------------------
                                    516 ; Function HandlePlayerInput
                                    517 ; ---------------------------------
    00000218                        518 _HandlePlayerInput::
    00000218 E8 F5            [16]  519 	add	sp, #-11
    0000021A F8 09            [12]  520 	ldhl	sp,	#9
    0000021C 73               [ 8]  521 	ld	(hl), e
    0000021D 23               [ 8]  522 	inc	hl
    0000021E 72               [ 8]  523 	ld	(hl), d
    0000021F 2B               [ 8]  524 	dec	hl
    00000220 2B               [ 8]  525 	dec	hl
    00000221 77               [ 8]  526 	ld	(hl), a
                                    527 ;player.c:107: if ((nJoy & J_RIGHT) && (nJoy & J_DOWN))
    00000222 7E               [ 8]  528 	ld	a, (hl)
    00000223 E6 01            [ 8]  529 	and	a, #0x01
    00000225 F8 00            [12]  530 	ldhl	sp,	#0
    00000227 22               [ 8]  531 	ld	(hl+), a
    00000228 36 00            [12]  532 	ld	(hl), #0x00
    0000022A F8 08            [12]  533 	ldhl	sp,	#8
    0000022C 7E               [ 8]  534 	ld	a, (hl)
    0000022D E6 08            [ 8]  535 	and	a, #0x08
    0000022F F8 02            [12]  536 	ldhl	sp,	#2
    00000231 22               [ 8]  537 	ld	(hl+), a
    00000232 36 00            [12]  538 	ld	(hl), #0x00
                                    539 ;player.c:109: ptrPlayer->nDirection = 1;
    00000234 F8 09            [12]  540 	ldhl	sp,#9
    00000236 2A               [ 8]  541 	ld	a, (hl+)
    00000237 5F               [ 4]  542 	ld	e, a
    00000238 56               [ 8]  543 	ld	d, (hl)
    00000239 21 08 00         [12]  544 	ld	hl, #0x0008
    0000023C 19               [ 8]  545 	add	hl, de
    0000023D 4D               [ 4]  546 	ld	c, l
    0000023E 44               [ 4]  547 	ld	b, h
                                    548 ;player.c:110: ptrPlayer->nDirCheck = 7;
    0000023F F8 09            [12]  549 	ldhl	sp,#9
    00000241 2A               [ 8]  550 	ld	a, (hl+)
    00000242 5F               [ 4]  551 	ld	e, a
    00000243 56               [ 8]  552 	ld	d, (hl)
    00000244 21 13 00         [12]  553 	ld	hl, #0x0013
    00000247 19               [ 8]  554 	add	hl, de
    00000248 5D               [ 4]  555 	ld	e, l
    00000249 54               [ 4]  556 	ld	d, h
                                    557 ;player.c:107: if ((nJoy & J_RIGHT) && (nJoy & J_DOWN))
    0000024A AF               [ 4]  558 	xor	a, a
    0000024B F8 00            [12]  559 	ldhl	sp,	#0
    0000024D B6               [ 8]  560 	or	a, (hl)
    0000024E 28 1C            [12]  561 	jr	Z, 00125$
    00000250 23               [ 8]  562 	inc	hl
    00000251 23               [ 8]  563 	inc	hl
    00000252 AF               [ 4]  564 	xor	a, a
    00000253 B6               [ 8]  565 	or	a, (hl)
    00000254 28 16            [12]  566 	jr	Z, 00125$
                                    567 ;player.c:109: ptrPlayer->nDirection = 1;
    00000256 3E 01            [ 8]  568 	ld	a, #0x01
    00000258 02               [ 8]  569 	ld	(bc), a
                                    570 ;player.c:110: ptrPlayer->nDirCheck = 7;
    00000259 3E 07            [ 8]  571 	ld	a, #0x07
    0000025B 12               [ 8]  572 	ld	(de), a
                                    573 ;player.c:111: m_nSprayIndex = 36;
    0000025C 21r00r00         [12]  574 	ld	hl, #_m_nSprayIndex
    0000025F 36 24            [12]  575 	ld	(hl), #0x24
                                    576 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000261 21r14r00         [12]  577 	ld	hl, #(_shadow_OAM + 20)
                                    578 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    00000264 36 5C            [12]  579 	ld	(hl), #0x5c
    00000266 23               [ 8]  580 	inc	hl
    00000267 36 5A            [12]  581 	ld	(hl), #0x5a
                                    582 ;player.c:112: move_sprite(5, 90, 92);
    00000269 C3r4Cr03         [16]  583 	jp	00126$
    0000026C                        584 00125$:
                                    585 ;player.c:116: else if ((nJoy & J_DOWN) && (nJoy & J_LEFT))
    0000026C F8 08            [12]  586 	ldhl	sp,	#8
    0000026E 7E               [ 8]  587 	ld	a, (hl)
    0000026F E6 02            [ 8]  588 	and	a, #0x02
    00000271 F8 04            [12]  589 	ldhl	sp,	#4
    00000273 22               [ 8]  590 	ld	(hl+), a
    00000274 36 00            [12]  591 	ld	(hl), #0x00
    00000276 AF               [ 4]  592 	xor	a, a
    00000277 F8 02            [12]  593 	ldhl	sp,	#2
    00000279 B6               [ 8]  594 	or	a, (hl)
    0000027A 28 1C            [12]  595 	jr	Z, 00121$
    0000027C 23               [ 8]  596 	inc	hl
    0000027D 23               [ 8]  597 	inc	hl
    0000027E AF               [ 4]  598 	xor	a, a
    0000027F B6               [ 8]  599 	or	a, (hl)
    00000280 28 16            [12]  600 	jr	Z, 00121$
                                    601 ;player.c:118: ptrPlayer->nDirection = 3;
    00000282 3E 03            [ 8]  602 	ld	a, #0x03
    00000284 02               [ 8]  603 	ld	(bc), a
                                    604 ;player.c:119: ptrPlayer->nDirCheck = 5;
    00000285 3E 05            [ 8]  605 	ld	a, #0x05
    00000287 12               [ 8]  606 	ld	(de), a
                                    607 ;player.c:120: m_nSprayIndex = 38;
    00000288 21r00r00         [12]  608 	ld	hl, #_m_nSprayIndex
    0000028B 36 26            [12]  609 	ld	(hl), #0x26
                                    610 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    0000028D 21r14r00         [12]  611 	ld	hl, #(_shadow_OAM + 20)
                                    612 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    00000290 3E 5C            [ 8]  613 	ld	a, #0x5c
    00000292 22               [ 8]  614 	ld	(hl+), a
    00000293 36 46            [12]  615 	ld	(hl), #0x46
                                    616 ;player.c:121: move_sprite(5, 70, 92);
    00000295 C3r4Cr03         [16]  617 	jp	00126$
    00000298                        618 00121$:
                                    619 ;player.c:125: else if ((nJoy & J_LEFT) && (nJoy & J_UP))
    00000298 F8 08            [12]  620 	ldhl	sp,	#8
    0000029A 3A               [ 8]  621 	ld	a, (hl-)
    0000029B 2B               [ 8]  622 	dec	hl
    0000029C E6 04            [ 8]  623 	and	a, #0x04
    0000029E 22               [ 8]  624 	ld	(hl+), a
    0000029F 36 00            [12]  625 	ld	(hl), #0x00
    000002A1 AF               [ 4]  626 	xor	a, a
    000002A2 F8 04            [12]  627 	ldhl	sp,	#4
    000002A4 B6               [ 8]  628 	or	a, (hl)
    000002A5 28 1B            [12]  629 	jr	Z, 00117$
    000002A7 23               [ 8]  630 	inc	hl
    000002A8 23               [ 8]  631 	inc	hl
    000002A9 AF               [ 4]  632 	xor	a, a
    000002AA B6               [ 8]  633 	or	a, (hl)
    000002AB 28 15            [12]  634 	jr	Z, 00117$
                                    635 ;player.c:127: ptrPlayer->nDirection = 5;
    000002AD 3E 05            [ 8]  636 	ld	a, #0x05
    000002AF 02               [ 8]  637 	ld	(bc), a
                                    638 ;player.c:128: ptrPlayer->nDirCheck = 0;
    000002B0 AF               [ 4]  639 	xor	a, a
    000002B1 12               [ 8]  640 	ld	(de), a
                                    641 ;player.c:129: m_nSprayIndex = 40;
    000002B2 21r00r00         [12]  642 	ld	hl, #_m_nSprayIndex
    000002B5 36 28            [12]  643 	ld	(hl), #0x28
                                    644 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000002B7 21r14r00         [12]  645 	ld	hl, #(_shadow_OAM + 20)
                                    646 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    000002BA 3E 48            [ 8]  647 	ld	a, #0x48
    000002BC 22               [ 8]  648 	ld	(hl+), a
    000002BD 36 46            [12]  649 	ld	(hl), #0x46
                                    650 ;player.c:130: move_sprite(5, 70, 72);
    000002BF C3r4Cr03         [16]  651 	jp	00126$
    000002C2                        652 00117$:
                                    653 ;player.c:134: else if ((nJoy & J_RIGHT) && (nJoy & J_UP))
    000002C2 AF               [ 4]  654 	xor	a, a
    000002C3 F8 00            [12]  655 	ldhl	sp,	#0
    000002C5 B6               [ 8]  656 	or	a, (hl)
    000002C6 28 1B            [12]  657 	jr	Z, 00113$
    000002C8 AF               [ 4]  658 	xor	a, a
    000002C9 F8 06            [12]  659 	ldhl	sp,	#6
    000002CB B6               [ 8]  660 	or	a, (hl)
    000002CC 28 15            [12]  661 	jr	Z, 00113$
                                    662 ;player.c:136: ptrPlayer->nDirection = 7;
    000002CE 3E 07            [ 8]  663 	ld	a, #0x07
    000002D0 02               [ 8]  664 	ld	(bc), a
                                    665 ;player.c:137: ptrPlayer->nDirCheck = 2;
    000002D1 3E 02            [ 8]  666 	ld	a, #0x02
    000002D3 12               [ 8]  667 	ld	(de), a
                                    668 ;player.c:138: m_nSprayIndex = 34;
    000002D4 21r00r00         [12]  669 	ld	hl, #_m_nSprayIndex
    000002D7 36 22            [12]  670 	ld	(hl), #0x22
                                    671 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000002D9 21r14r00         [12]  672 	ld	hl, #(_shadow_OAM + 20)
                                    673 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    000002DC 36 48            [12]  674 	ld	(hl), #0x48
    000002DE 23               [ 8]  675 	inc	hl
    000002DF 36 5A            [12]  676 	ld	(hl), #0x5a
                                    677 ;player.c:139: move_sprite(5, 90, 72);
    000002E1 18 69            [12]  678 	jr	00126$
    000002E3                        679 00113$:
                                    680 ;player.c:143: else if (nJoy & J_RIGHT)
    000002E3 AF               [ 4]  681 	xor	a, a
    000002E4 F8 00            [12]  682 	ldhl	sp,	#0
    000002E6 B6               [ 8]  683 	or	a, (hl)
    000002E7 28 14            [12]  684 	jr	Z, 00110$
                                    685 ;player.c:145: ptrPlayer->nDirection = 0;
    000002E9 AF               [ 4]  686 	xor	a, a
    000002EA 02               [ 8]  687 	ld	(bc), a
                                    688 ;player.c:146: ptrPlayer->nDirCheck = 4;
    000002EB 3E 04            [ 8]  689 	ld	a, #0x04
    000002ED 12               [ 8]  690 	ld	(de), a
                                    691 ;player.c:147: m_nSprayIndex = 35;
    000002EE 21r00r00         [12]  692 	ld	hl, #_m_nSprayIndex
    000002F1 36 23            [12]  693 	ld	(hl), #0x23
                                    694 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000002F3 21r14r00         [12]  695 	ld	hl, #(_shadow_OAM + 20)
                                    696 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    000002F6 3E 52            [ 8]  697 	ld	a, #0x52
    000002F8 22               [ 8]  698 	ld	(hl+), a
    000002F9 36 5C            [12]  699 	ld	(hl), #0x5c
                                    700 ;player.c:148: move_sprite(5, 92, 82);
    000002FB 18 4F            [12]  701 	jr	00126$
    000002FD                        702 00110$:
                                    703 ;player.c:152: else if (nJoy & J_DOWN)
    000002FD AF               [ 4]  704 	xor	a, a
    000002FE F8 02            [12]  705 	ldhl	sp,	#2
    00000300 B6               [ 8]  706 	or	a, (hl)
    00000301 28 15            [12]  707 	jr	Z, 00107$
                                    708 ;player.c:154: ptrPlayer->nDirection = 2;
    00000303 3E 02            [ 8]  709 	ld	a, #0x02
    00000305 02               [ 8]  710 	ld	(bc), a
                                    711 ;player.c:155: ptrPlayer->nDirCheck = 6;
    00000306 3E 06            [ 8]  712 	ld	a, #0x06
    00000308 12               [ 8]  713 	ld	(de), a
                                    714 ;player.c:156: m_nSprayIndex = 37;
    00000309 21r00r00         [12]  715 	ld	hl, #_m_nSprayIndex
    0000030C 36 25            [12]  716 	ld	(hl), #0x25
                                    717 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    0000030E 21r14r00         [12]  718 	ld	hl, #(_shadow_OAM + 20)
                                    719 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    00000311 3E 5E            [ 8]  720 	ld	a, #0x5e
    00000313 22               [ 8]  721 	ld	(hl+), a
    00000314 36 50            [12]  722 	ld	(hl), #0x50
                                    723 ;player.c:157: move_sprite(5, 80, 94);
    00000316 18 34            [12]  724 	jr	00126$
    00000318                        725 00107$:
                                    726 ;player.c:161: else if (nJoy & J_LEFT)
    00000318 AF               [ 4]  727 	xor	a, a
    00000319 F8 04            [12]  728 	ldhl	sp,	#4
    0000031B B6               [ 8]  729 	or	a, (hl)
    0000031C 28 15            [12]  730 	jr	Z, 00104$
                                    731 ;player.c:163: ptrPlayer->nDirection = 4;
    0000031E 3E 04            [ 8]  732 	ld	a, #0x04
    00000320 02               [ 8]  733 	ld	(bc), a
                                    734 ;player.c:164: ptrPlayer->nDirCheck = 3;
    00000321 3E 03            [ 8]  735 	ld	a, #0x03
    00000323 12               [ 8]  736 	ld	(de), a
                                    737 ;player.c:165: m_nSprayIndex = 39;
    00000324 21r00r00         [12]  738 	ld	hl, #_m_nSprayIndex
    00000327 36 27            [12]  739 	ld	(hl), #0x27
                                    740 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000329 21r14r00         [12]  741 	ld	hl, #(_shadow_OAM + 20)
                                    742 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    0000032C 3E 52            [ 8]  743 	ld	a, #0x52
    0000032E 22               [ 8]  744 	ld	(hl+), a
    0000032F 36 44            [12]  745 	ld	(hl), #0x44
                                    746 ;player.c:166: move_sprite(5, 68, 82);
    00000331 18 19            [12]  747 	jr	00126$
    00000333                        748 00104$:
                                    749 ;player.c:171: else if (nJoy & J_UP)
    00000333 AF               [ 4]  750 	xor	a, a
    00000334 F8 06            [12]  751 	ldhl	sp,	#6
    00000336 B6               [ 8]  752 	or	a, (hl)
    00000337 28 13            [12]  753 	jr	Z, 00126$
                                    754 ;player.c:173: ptrPlayer->nDirection = 6;
    00000339 3E 06            [ 8]  755 	ld	a, #0x06
    0000033B 02               [ 8]  756 	ld	(bc), a
                                    757 ;player.c:174: ptrPlayer->nDirCheck = 1;
    0000033C 3E 01            [ 8]  758 	ld	a, #0x01
    0000033E 12               [ 8]  759 	ld	(de), a
                                    760 ;player.c:175: m_nSprayIndex = 33;
    0000033F 21r00r00         [12]  761 	ld	hl, #_m_nSprayIndex
    00000342 36 21            [12]  762 	ld	(hl), #0x21
                                    763 ;c:\gbdk2020\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000344 21r14r00         [12]  764 	ld	hl, #(_shadow_OAM + 20)
                                    765 ;c:\gbdk2020\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    00000347 3E 46            [ 8]  766 	ld	a, #0x46
    00000349 22               [ 8]  767 	ld	(hl+), a
    0000034A 36 50            [12]  768 	ld	(hl), #0x50
                                    769 ;player.c:176: move_sprite(5, 80, 70);
    0000034C                        770 00126$:
                                    771 ;player.c:180: UpdatePlayer(ptrPlayer);
    0000034C F8 09            [12]  772 	ldhl	sp,	#9
    0000034E 2A               [ 8]  773 	ld	a, (hl+)
    0000034F 5F               [ 4]  774 	ld	e, a
    00000350 56               [ 8]  775 	ld	d, (hl)
    00000351 CDrECr00         [24]  776 	call	_UpdatePlayer
                                    777 ;player.c:181: }
    00000354 E8 0B            [16]  778 	add	sp, #11
    00000356 C9               [16]  779 	ret
                                    780 ;player.c:189: void ShowSprayEffect(BOOLEAN bShowSpray)
                                    781 ;	---------------------------------
                                    782 ; Function ShowSprayEffect
                                    783 ; ---------------------------------
    00000357                        784 _ShowSprayEffect::
                                    785 ;player.c:195: if (bShowSpray)
    00000357 B7               [ 4]  786 	or	a, a
    00000358 28 28            [12]  787 	jr	Z, 00104$
                                    788 ;player.c:198: if (!m_bButtonBPressed)
    0000035A 21r01r00         [12]  789 	ld	hl, #_m_bButtonBPressed
    0000035D 7E               [ 8]  790 	ld	a, (hl)
    0000035E B7               [ 4]  791 	or	a, a
    0000035F 20 1B            [12]  792 	jr	NZ, 00102$
                                    793 ;player.c:201: m_bButtonBPressed = TRUE;
    00000361 36 01            [12]  794 	ld	(hl), #0x01
                                    795 ;player.c:204: NR41_REG = 0x2D;
    00000363 3E 2D            [ 8]  796 	ld	a, #0x2d
    00000365 E0r00            [12]  797 	ldh	(_NR41_REG + 0), a
                                    798 ;player.c:205: NR42_REG = 0x81;
    00000367 3E 81            [ 8]  799 	ld	a, #0x81
    00000369 E0r00            [12]  800 	ldh	(_NR42_REG + 0), a
                                    801 ;player.c:206: NR43_REG = 0x10;
    0000036B 3E 10            [ 8]  802 	ld	a, #0x10
    0000036D E0r00            [12]  803 	ldh	(_NR43_REG + 0), a
                                    804 ;player.c:207: NR44_REG = 0x80;
    0000036F 3E 80            [ 8]  805 	ld	a, #0x80
    00000371 E0r00            [12]  806 	ldh	(_NR44_REG + 0), a
                                    807 ;player.c:210: set_sprite_tile(5, m_nSprayIndex);
    00000373 FAr00r00         [16]  808 	ld	a, (_m_nSprayIndex)
    00000376 4F               [ 4]  809 	ld	c, a
                                    810 ;c:\gbdk2020\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    00000377 21r16r00         [12]  811 	ld	hl, #(_shadow_OAM + 22)
    0000037A 71               [ 8]  812 	ld	(hl), c
                                    813 ;player.c:211: return;
    0000037B C9               [16]  814 	ret
    0000037C                        815 00102$:
                                    816 ;c:\gbdk2020\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    0000037C 21r16r00         [12]  817 	ld	hl, #(_shadow_OAM + 22)
    0000037F 36 5F            [12]  818 	ld	(hl), #0x5f
                                    819 ;player.c:215: set_sprite_tile(5, 95);
    00000381 C9               [16]  820 	ret
    00000382                        821 00104$:
                                    822 ;player.c:221: m_bButtonBPressed = FALSE;
    00000382 AF               [ 4]  823 	xor	a, a
    00000383 EAr01r00         [16]  824 	ld	(#_m_bButtonBPressed),a
                                    825 ;c:\gbdk2020\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    00000386 21r16r00         [12]  826 	ld	hl, #(_shadow_OAM + 22)
    00000389 36 5F            [12]  827 	ld	(hl), #0x5f
                                    828 ;player.c:224: set_sprite_tile(5, 95);
                                    829 ;player.c:226: }
    0000038B C9               [16]  830 	ret
                                    831 	.area _CODE
                                    832 	.area _INITIALIZER
    00000000                        833 __xinit__m_nSprayIndex:
    00000000 00                     834 	.db #0x00	; 0
    00000001                        835 __xinit__m_bButtonBPressed:
    00000001 00                     836 	.db #0x00	;  0
                                    837 	.area _CABS (ABS)
